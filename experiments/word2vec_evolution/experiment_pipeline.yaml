# ACID Pipeline Configuration for Word2Vec Evolution Experiment
# Processing only word2vec, doc2vec, and code2vec papers

# Pipeline configuration
pipeline:
  staging_directory: "/dev/shm/acid_staging"
  use_gpu: true
  checkpoint_interval: 1  # Save after each paper
  batch_processing: true
  atomic_transactions: true  # All-or-nothing database commits
  max_retries: 3
  retry_delay_seconds: 5

# Phase-specific settings
phases:
  extraction:
    # 1 worker since we only have 3 papers
    workers: 1
    batch_size: 3
    timeout_seconds: 300
    gpu_memory_fraction: 0.8
    
  embedding:
    # 1 worker for 3 papers
    workers: 1  
    batch_size: 3
    timeout_seconds: 600
    use_fp16: true  # Half precision for memory efficiency
    max_chunk_size: 8192  # Jina v4 late chunking

# Processing configuration
processing:
  # Data source configuration
  data_source: 'specific_list'
  
  # Specific papers for this experiment
  specific_list:
    arxiv_ids:
      - "1301.3781"   # word2vec
      - "1405.4053"   # doc2vec
      - "1803.09473"  # code2vec
  
  # PDF location
  pdf_base_path: '/bulk-store/arxiv-data/pdf'
  
  # LaTeX location (if available)
  latex_base_path: '/bulk-store/arxiv-data/latex'
  
  # Sampling parameters (not used for specific_list)
  sample_size: 3
  random_seed: 42

# Storage configuration
storage:
  # ArangoDB settings
  arango:
    host: 'localhost'
    port: 8529
    database: 'academy_store'
    collections:
      papers: 'arxiv_papers'
      chunks: 'arxiv_chunks'
      embeddings: 'arxiv_embeddings'
      structures: 'arxiv_structures'
    batch_size: 100
    
# Logging configuration
logging:
  level: 'INFO'
  log_file: 'experiments/word2vec_evolution/experiment_processing.log'
  format: '%(asctime)s - %(name)s - %(levelname)s - %(message)s'

# Monitoring
monitoring:
  enable_progress_bar: true
  report_interval_seconds: 10
  track_gpu_memory: true
  track_staging_size: true